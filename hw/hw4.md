# HW4

PB20111689 蓝俊玮

## 2.6

> 一个 $N=2^n$ 个节点的洗牌交换网络如图 2.36 所示。试问：此网节点度、网络直径和网络对剖宽度分别为多少？

以射入和射出一个节点的边数作为节点度，则在这个有向交换网络中，双向边可以带来 2 个节点度贡献，那么节点指向自己的环也会贡献 2 个节点度，因此在这个网络中节点度为 4。

网络中任何两个节点之间的最长距离是网络直径。则在这个网络中的网络直径为 5，很明显 0 和 7 之间的距离最长，而 0 和 7 之间的路径可以为：$0\to1\to2\to3\to6\to7$。而对于 $N=2^n$ 来说，也是如此，最远的两个节点必然是节点 0 到节点 $N-1$，那么在这个过程中，由于不断洗牌交换，则最后的最长距离为 $2n-1$，即对于 $N=2^n$ 的网络来说，其网络直径为 $2n-1$。

对分网络各半所必须移去的最少边数为对剖宽度。则在这个网络中的对剖宽度为 4。很明显可以将网络对分成为 $\{0,1,2,3\}$ 和 $\{4,5,6,7\}$ 节点，那么只需要移去 $2\to4,3\to6,4\to1,5\to3$ 就可以达到要求。而对于 $N=2^n$ 来说，需要切断两半网络之间的联系，则考虑节点 $0$ 到 $2^{n-1}-1$ 之间的所有节点与节点 $2^{n-1}$ 到 $2^n-1$ 之间所有节点之间有多少条边，则发现总共会有 $2^{n-1}$ 条边。因此对于 $N=2^n$ 的网络来说，其对剖宽度为 $2^{n-1}$。

## 2.7

> 一个 $N=(k+1)2^k$ 个节点的蝶形网络如图 2.37 所示。试问：此网节点度、网络直径和网络对剖宽度分为是多少？

该网络的节点度有 2 个，分别是 2 和 4。在蝶式网络中，在行 0 和行 3 中，节点度都是 2，而在行 1 和行 2 中，节点度都是 4。即在行 0 和最后一行的节点度都是 2，而中间行的节点度都是 4。

该网络的网络直径为：6。从行 3 的第一个节点到行 3 的最后一个节点，需要经过行 2 行 1 行 0 再返回到行 0，该路径长度是 6。而对于 $N=(k+1)2^k$ 的网络来说，要经过所有的行再返回来，所以经过的路径长度是 $2k$。因此网络直径为 $2k$。

该网络的对剖宽度为 8。只需要在行 0 和行 1 之间切断两边网络的边即可。而对于 $N=(k+1)2^k$ 的网络而言，同样需要处理的是行 0 和行 1 之间两边网络的边，可以发现其就是行 0 的节点个数，因此其对剖宽度就是 $2^k$。

## 2.15

> 一到多个人通信又称为单点散播，它与一到多播送不同之处是，此时源处理器有 $p$ 个信包，每一个去向一个目的地。图 2.41 示出了 8 个处理器的超立方上单点散射的过程。试证明：使用 SF 和 CT 方法在超立方上实行一到多个人通信的通信时间为：
> $$
> t_{one-to-all-pers}=t_s\log p +mt_w(p-1)
> $$

首先有公式：
$$
t_{comm}(SF)=t_s+(mt_w+t_h)l\\
t_{comm}(CT)=t_s+mt_w+lt_h
$$
本题不考虑 $t_h$，即节点延迟时间。

则对于 SF 来说，首先向距离 1 远处发送 $p/2$ 个信包，接着再同时向距离 1 远处发送 $p/2^2$ 个信包，依此类推，因此其通信时间为：
$$
\begin{align}
t_{one-to-all-pers}(SF)=&\ \sum_{i=1}^{\log p}(t_s+\frac{p}{2^i}mt_w)\\
=&\ t_s\log p+mt_w(p-1)
\end{align}
$$
而对于 CT 来说，由于发送距离 $l$ 是 1 且不考虑 $t_h$，则上述公式可以修改为：
$$
t_{comm}(SF)=t_s+mt_w\\
t_{comm}(CT)=t_s+mt_w
$$
那么发现 $t_{comm}(SF)=t_{comm}(CT)$，因此对于 CT 来说，其通信时间与 SF 是相同的，也是：
$$
\begin{align}
t_{one-to-all-pers}(CT)=&\ \sum_{i=1}^{\log p}(t_s+\frac{p}{2^i}mt_w)\\
=&\ t_s\log p+mt_w(p-1)
\end{align}
$$
